<?xml version="1.0" encoding="UTF-8"?>
<scave:Analysis xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:scave="http://www.omnetpp.org/omnetpp/scave">
  <inputs>
    <inputs name="/inet/showcases/wireless/sensornetwork/results/Power*Mac-*.vec"/>
    <inputs name="/inet/showcases/wireless/sensornetwork/results/Power*Mac-*.sca"/>
  </inputs>
  <datasets>
    <datasets name="sumPower">
      <items xsi:type="scave:Add" filterPattern="name(residualEnergyCapacity:last) "/>
      <items xsi:type="scave:ComputeScalar" scalarName="sumResidualCapacity" valueExpr="sum(SensorNetworkShowcaseB_2.sensor*.energyStorage.'residualEnergyCapacity:last')*-1+sum(SensorNetworkShowcaseB_2.gateway.energyStorage.'residualEnergyCapacity:last')*-1" moduleExpr="*.server" groupByExpr=""/>
      <items xsi:type="scave:BarChart" name="Network total power consumption">
        <filters xsi:type="scave:Select" filterPattern="module(*.server) "/>
        <properties name="Graph.Title" value="Network total power consumption"/>
      </items>
    </datasets>
    <datasets name="sumPowerVector">
      <items xsi:type="scave:Add" filterPattern="name(residualEnergyCapacity:vector) " type="VECTOR"/>
      <items xsi:type="scave:LineChart"/>
    </datasets>
    <datasets name="powerperpacket">
      <items xsi:type="scave:Add" filterPattern="module(*.server.app[0]) AND name(packetReceived:count)  "/>
      <items xsi:type="scave:Add" filterPattern="name(residualEnergyCapacity:last) "/>
      <items xsi:type="scave:Add" filterPattern="name(residualEnergyCapacity:vector) " type="VECTOR"/>
      <items xsi:type="scave:Add" filterPattern="name(packetSent:count) "/>
      <items xsi:type="scave:ComputeScalar" scalarName="sumResidualCapacity" valueExpr="sum(SensorNetworkShowcaseB_2.sensor*.energyStorage.'residualEnergyCapacity:last')*-1+sum(SensorNetworkShowcaseB_2.gateway.energyStorage.'residualEnergyCapacity:last')*-1" moduleExpr="*.server" groupByExpr=""/>
      <items xsi:type="scave:BarChart" name="Network total power consumption">
        <filters xsi:type="scave:Select" filterPattern="module(*.server) "/>
        <properties name="Graph.Title" value="Network total power consumption"/>
      </items>
      <items xsi:type="scave:LineChart"/>
      <items xsi:type="scave:BarChart" name="Total number of packets received">
        <filters xsi:type="scave:Select" filterPattern="name(packetReceived:count) AND module(*.server.app[0]) "/>
        <properties name="Graph.Title" value="Total number of packets received"/>
      </items>
      <items xsi:type="scave:ComputeScalar" scalarName="relativePowerConsumption" valueExpr="'sumResidualCapacity'/*.server.app[0].'packetReceived:count'" moduleExpr="" groupByExpr=""/>
      <items xsi:type="scave:BarChart" name="Power consumption per packet">
        <filters xsi:type="scave:Select" filterPattern="name(relativePowerConsumption) "/>
        <properties name="Graph.Title" value="Power consumption per packet"/>
      </items>
      <items xsi:type="scave:ComputeScalar" scalarName="sumPacketsSent" valueExpr="sum(*.sensor*.app[0].'packetSent:count') " moduleExpr="*.server" groupByExpr=""/>
      <items xsi:type="scave:BarChart">
        <filters xsi:type="scave:Select" filterPattern="name(sumPacketsSent) "/>
      </items>
      <items xsi:type="scave:ComputeScalar" scalarName="sumPacketReceived" valueExpr="sum('packetReceived:count') " moduleExpr="*.server" groupByExpr=""/>
      <items xsi:type="scave:ComputeScalar" scalarName="thePacketLoss" valueExpr="'sumPacketReceived'/'sumPacketsSent'" moduleExpr="*.server" groupByExpr=""/>
      <items xsi:type="scave:ComputeScalar" scalarName="realPacketLoss" valueExpr="1-'thePacketLoss'" moduleExpr="*.server" groupByExpr=""/>
      <items xsi:type="scave:BarChart" name="Packet loss">
        <filters xsi:type="scave:Select" filterPattern="name(realPacketLoss) "/>
        <properties name="Graph.Title" value="Packet loss"/>
        <properties name="Y.Axis.Max" value="1.01"/>
      </items>
    </datasets>
  </datasets>
  <chartSheets>
    <chartSheets name="default" charts="//@datasets/@datasets.0/@items.2 //@datasets/@datasets.1/@items.1 //@datasets/@datasets.2/@items.5 //@datasets/@datasets.2/@items.6 //@datasets/@datasets.2/@items.7 //@datasets/@datasets.2/@items.9 //@datasets/@datasets.2/@items.11 //@datasets/@datasets.2/@items.15"/>
    <chartSheets name="Charts" charts="//@datasets/@datasets.2/@items.7 //@datasets/@datasets.0/@items.2 //@datasets/@datasets.2/@items.9 //@datasets/@datasets.2/@items.15"/>
  </chartSheets>
</scave:Analysis>
